<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="TechZone">
<meta name="description" content="HarrisWildeç¥è¯¸å›å…ƒæ—¦å¿«ä¹ğŸ‰">
<meta name="theme-color" content="#222222">
<title>Cè¯­è¨€ä¹‹ç»“æ„ä½“ï¼ˆä¸‹ï¼‰ | TechZone</title>
<link rel="shortcut icon" href="https://harriswilde.github.io/favicon.ico?v=1583830027737">
<link rel="stylesheet" href="https://harriswilde.github.io/styles/main.css">

<link rel="stylesheet" href="/media/css/pisces.css">

<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/prism.css" rel="stylesheet">  

<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>

    <meta name="description" content="Cè¯­è¨€ä¹‹ç»“æ„ä½“ï¼ˆä¸‹ï¼‰" />
    <meta name="keywords" content="C,æ•°æ®ç»“æ„" />
  </head>
  <body>
    <div class="head-top-line"></div>
    <div class="header-box">
      
<div class=" pisces">
  <header class="header bg-color ">
    <div class="blog-header box-shadow-wrapper bg-color " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="brand">
              <span>TechZone</span>
            </a>  
          
        </div>
        
          <p class="subtitle">HarrisWildeçš„å®˜æ–¹ä¸ªäººåšå®¢</p>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            <li class="nav-item ">
              
              
                <a href="/" target="_self">
                  <i class="fa fa-home"></i> é¦–é¡µ
                </a>
              
            </li>
          
            <li class="nav-item ">
              
              
                <a href="/archives" target="_self">
                  <i class="fa fa-archive"></i> å½’æ¡£
                </a>
              
            </li>
          
            <li class="nav-item ">
              
              
                <a href="/tags" target="_self">
                  <i class="fa fa-tags"></i> åˆ†ç±»
                </a>
              
            </li>
          
            <li class="nav-item ">
              
              
                <a href="https://www.jianshu.com/u/766d2f134900" target="_blank">
                  <i class="fa fa-globe"></i> ç®€ä¹¦
                </a>
              
            </li>
          
          <li class="nav-item">
            <a>
              <i class="fa fa-search"></i> æœç´¢
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
    </div>
    <div class="main-continer">
      
      <div class="section-layout pisces ">
        <div class="section-layout-wrapper">
          

<div class="sidebar">
  
    <div class="sidebar-box box-shadow-wrapper bg-color right-motion" id="sidebar">
      
        <div class="post-list-sidebar">
          <div class="sidebar-title">
            <span id="tocSideBar" class="sidebar-title-item sidebar-title-active">æ–‡ç« ç›®å½•</span>
            <span id="metaSideBar" class="sidebar-title-item">ç«™ç‚¹æ¦‚è§ˆ</span>
          </div>
        </div>
      
      <div class="sidebar-body pisces" id="sidebar_body">
        
          
            <div class="post-side-meta" id="post_side_meta">
              
<div class="sidebar-wrapper box-shadow-wrapper bg-color">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="https://harriswilde.github.io/images/avatar.png"/>
    <p class="site-author-name">TechZone</p>
    <p class="site-description right-motion">2020ï¼Œå…±åŒè¿›æ­¥ï¼</p>
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">29</span>
        <span class="site-item-stat-name">æ–‡ç« </span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="">
        <span class="site-item-stat-count">9</span>
        <span class="site-item-stat-name">åˆ†ç±»</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">9</span>
        <span class="site-item-stat-name">æ ‡ç­¾</span>
      </a>
    </div>
  </div>
  
    
      <div class="sidebar-item">
        <span class="site-item-rss">
            <i class="fa fa-rss"></i>
            <a href="https://harriswilde.github.io/atom.xml" target="_blank">RSS</a>
        </span>
      </div>
    
  
  


</div>
            </div>
            <div class="post-toc sidebar-body-active" id="post_toc" style="opacity: 1;">
              <div class="toc-box right-motion">
  <div class="toc-wrapper auto-number auto" id="toc_wrapper">
    <ul class="markdownIt-TOC">
<li><a href="#%E5%8A%A8%E6%80%81%E7%94%B3%E8%AF%B7%E7%BB%93%E6%9E%84%E4%BD%93">åŠ¨æ€ç”³è¯·ç»“æ„ä½“</a></li>
<li><a href="#%E5%AE%9E%E6%88%98%E5%BB%BA%E7%AB%8B%E4%B8%80%E4%B8%AA%E5%9B%BE%E4%B9%A6%E9%A6%86%E6%95%B0%E6%8D%AE%E5%BA%93">å®æˆ˜ï¼šå»ºç«‹ä¸€ä¸ªå›¾ä¹¦é¦†æ•°æ®åº“</a></li>
<li><a href="#%E5%8D%95%E9%93%BE%E8%A1%A8">å•é“¾è¡¨</a>
<ul>
<li><a href="#%E5%9C%A8%E5%8D%95%E9%93%BE%E8%A1%A8%E4%B8%AD%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0">åœ¨å•é“¾è¡¨ä¸­æ’å…¥å…ƒç´ </a>
<ul>
<li><a href="#%E5%A4%B4%E6%8F%92%E6%B3%95">å¤´æ’æ³•</a></li>
<li><a href="#%E5%B0%BE%E6%8F%92%E6%B3%95">å°¾æ’æ³•</a></li>
</ul>
</li>
<li><a href="#%E6%90%9C%E7%B4%A2%E5%8D%95%E9%93%BE%E8%A1%A8">æœç´¢å•é“¾è¡¨</a></li>
<li><a href="#%E6%8F%92%E5%85%A5%E7%BB%93%E7%82%B9%E5%88%B0%E6%8C%87%E5%AE%9A%E4%BD%8D%E7%BD%AE">æ’å…¥ç»“ç‚¹åˆ°æŒ‡å®šä½ç½®</a></li>
<li><a href="#%E5%88%A0%E9%99%A4%E7%BB%93%E7%82%B9">åˆ é™¤ç»“ç‚¹</a></li>
</ul>
</li>
<li><a href="#%E5%86%85%E5%AD%98%E6%B1%A0">å†…å­˜æ± </a></li>
<li><a href="#typedef">typedef</a>
<ul>
<li><a href="#%E7%BB%99%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%B5%B7%E5%88%AB%E5%90%8D">ç»™æ•°æ®ç±»å‹èµ·åˆ«å</a></li>
<li><a href="#%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E6%90%AD%E6%A1%A3">ç»“æ„ä½“çš„æ­æ¡£</a></li>
<li><a href="#%E8%BF%9B%E9%98%B6">è¿›é˜¶</a></li>
</ul>
</li>
<li><a href="#%E5%85%B1%E7%94%A8%E4%BD%93">å…±ç”¨ä½“</a>
<ul>
<li><a href="#%E5%A3%B0%E6%98%8E">å£°æ˜</a></li>
<li><a href="#%E5%88%9D%E5%A7%8B%E5%8C%96">åˆå§‹åŒ–</a></li>
</ul>
</li>
<li><a href="#%E6%9E%9A%E4%B8%BE">æšä¸¾</a></li>
<li><a href="#%E4%BD%8D%E5%9F%9F">ä½åŸŸ</a></li>
</ul>

  </div>
</div>

<script>

let lastTop = 0, lList = [], hList = [], postBody, lastIndex = -1; 
let active = 'active-show', activeClass = 'active-current';
let tocWrapper = document.querySelector('#toc_wrapper');
let tocContent = tocWrapper.children[0];
let autoNumber = tocWrapper&&tocWrapper.classList.contains('auto-number');

function addTocNumber(elem, deep) {
  if (!elem) {
    return;
  }
  let prop = elem.__proto__;

  if (prop === HTMLUListElement.prototype) {
    for (let i = 0; i < elem.children.length; i++) {
      addTocNumber(elem.children[i], deep + (i + 1) + '.');
    }
  } else if (prop === HTMLLIElement.prototype) {
    // ä¿å­˜liå…ƒç´ 
    lList.push(elem);
    for (let i = 0; i < elem.children.length; i++) {
      let cur = elem.children[i];
      if (cur.__proto__ === HTMLAnchorElement.prototype) {
        if (autoNumber) {
          cur.text =  deep + ' ' + cur.text;
        }
      } else if (cur.__proto__ === HTMLUListElement.prototype) {
        addTocNumber(cur, deep);
      }
    }
  }
}


document.addEventListener('scroll', function(e) {
  if (lList.length <= 0) {
    return;
  }
  let scrollTop = document.scrollingElement.scrollTop + 10;
  let dir;

  if (lastTop - scrollTop > 0) {
    dir = 'up';
  } else {
    dir = 'down';
  }

  lastTop = scrollTop;
  if (scrollTop <= 0) {
    if (lastIndex >= 0 && lastIndex < hList.length) {
      lList[lastIndex].classList.remove(activeClass);
    }
    return;
  }

  let current = 0, hasFind = false;
  for (let i = 0; i < hList.length; i++) {
    if (hList[i].offsetTop > scrollTop) {
      current = i;
      hasFind = true;
      break;
    }
  }
  if (!hasFind && scrollTop > lList[lList.length - 1].offsetTop) {
    current = hList.length - 1;
  } else {
    current--;
  }
  if (dir === 'down') {
    if (current > lastIndex) {
      addActiveClass(current);
      removeActiveClass(lastIndex) 
      lastIndex = current;
      removeParentActiveClass();
      lList[current] && addActiveLiElemment(lList[current].parentElement,tocContent);
    }
  } else {
    if (current < lastIndex) {
      addActiveClass(current);
      removeActiveClass(lastIndex);
      lastIndex = current;
      removeParentActiveClass();
      lList[current] && addActiveLiElemment(lList[current].parentElement,tocContent);
    }
  }
});

function removeParentActiveClass() {
  let parents = tocContent.querySelectorAll('.'+active)
  parents.forEach(function(elem) {
    elem.classList.remove(active);
  });
}

function addActiveClass(index) {
  if (index >= 0 && index < hList.length) {
    lList[index].classList.add(activeClass);
  }
}

function removeActiveClass(index) {
  if (index >= 0 && index < hList.length) {
    lList[index].classList.remove(activeClass);
  }
}

function addActiveLiElemment(elem, parent) {
  if (!elem || elem === parent) {
    return;
  } else {
    if (elem.__proto__ === HTMLLIElement.prototype) {
      elem.classList.add(active);
    }
    addActiveLiElemment(elem.parentElement, parent);
  }
}

function showToc() {
  if (tocWrapper) {
    postBody = document.querySelector('#post_body');
    for (let i = 0; i < postBody.children.length; i++) {
      if (postBody.children[i].__proto__ === HTMLHeadingElement.prototype) {
        hList.push(postBody.children[i]);
      }
    }
    if (tocWrapper.classList.contains('compress')) {
        tocContent.classList.add('closed');
    } else if (tocWrapper.classList.contains('no_compress')){
      tocContent.classList.add('expanded');
    } else {
      if (hList.length > 10) {
        active = 'active-hidden'
        tocContent.classList.add('closed');
      } else {
        tocContent.classList.add('expanded');
      }
    }
  }
}
addTocNumber(tocContent, '');

window.addEventListener('load', function() {
  showToc();
  document.querySelector('#sidebar').style='display: block;';
  tocWrapper.classList.add('toc-active');
  setTimeout(function() {
    if ("createEvent" in document) {
      let evt = document.createEvent("HTMLEvents");
      evt.initEvent("scroll", false, true);
      document.dispatchEvent(evt);
    }
    else {
      document.fireEvent("scroll");
    }
  }, 500)
})

</script>
            </div>
          
        
      </div>
    </div>
  
</div>
<script>
  const SIDEBAR_TITLE_ACTIVE = 'sidebar-title-active';
  const SIDEBAR_BODY_ACTIVE = 'sidebar-body-active';
  const SLIDE_UP_IN = 'slide-up-in';

  let sidebar = document.querySelector('#sidebar'),
  tocSideBar = document.querySelector('#tocSideBar'),
  metaSideBar = document.querySelector('#metaSideBar'),
  postToc = document.querySelector('#post_toc'),
  postSiteMeta = document.querySelector('#post_side_meta'),
  sidebarTitle = document.querySelector('.sidebar-title'),
  sidebarBody = document.querySelector('#sidebar_body');

  tocSideBar && tocSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  metaSideBar && metaSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  function toggleSidebar(e) {
    let currentTitle = document.querySelector("."+SIDEBAR_TITLE_ACTIVE);
    if (currentTitle == e.srcElement) {
      return ;
    }
    let current, showElement, hideElement;
    if (e.srcElement == metaSideBar) {
      showElement = postSiteMeta;
      hideElement = postToc;
    } else if (e.srcElement == tocSideBar){
      showElement = postToc;
      hideElement = postSiteMeta;
    }
    currentTitle.classList.remove(SIDEBAR_TITLE_ACTIVE);
    e.srcElement.classList.add(SIDEBAR_TITLE_ACTIVE);

    window.Velocity(hideElement, 'stop');
    window.Velocity(hideElement, 'transition.slideUpOut', {
      display: 'none',
      duration: 200,
      complete: function () {
        window.Velocity(showElement, 'transition.slideDownIn', {
          duration: 200
        });
      }
    })
    hideElement.classList.remove(SIDEBAR_BODY_ACTIVE);
    showElement.classList.add(SIDEBAR_BODY_ACTIVE);
  }

  postToc && postToc.addEventListener('transitionend', function() {
    this.classList.remove(SLIDE_UP_IN);
  });

  if (sidebarBody) {
    if (sidebarBody.classList.contains('pisces') || sidebarBody.classList.contains('gemini')) {
      let hasFix = false;
      let scrollEl = document.querySelector('.main-continer');
      let limitTop = document.querySelector('#nav_ul').children.length * 42 + 162;
      window.addEventListener('scroll', function(e) {
        if (document.scrollingElement.scrollTop >= limitTop) {
          if (!hasFix) {
            sidebar.classList.add('sidebar-fixed');
            hasFix = true;
          }
        } else {
          if (hasFix) {
            sidebar.classList.remove('sidebar-fixed');
            hasFix = false;
          }
        }
      });
    }
  }
  
</script>
          <div class="section-box box-shadow-wrapper">
            <div class="section bg-color post post-page">
              <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://harriswilde.github.io/post/7BMq0j8UT/">
      Cè¯­è¨€ä¹‹ç»“æ„ä½“ï¼ˆä¸‹ï¼‰
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>å‘å¸ƒäº</span>
      <span>2020-02-29</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
      <span class="meta-item">
        <i class="fa fa-folder-o"></i>
        <span class="pc-show">åˆ†ç±»äº</span>
        
          
            <a href="https://harriswilde.github.io/tag/VC6KZQgdc/">
              <span>C</span>
            </a>ã€
          
        
          
            <a href="https://harriswilde.github.io/tag/DFrZZfISm/">
              <span>æ•°æ®ç»“æ„</span>
            </a>
          
        
      </span>
      <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>32åˆ†é’Ÿ</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>7152<span class="pc-show">å­—æ•°</span></span>
    </span>
    
      <span id="/post/7BMq0j8UT/" class="meta-item pc-show leancloud_visitors">
        <span class="post-meta-divider">|</span>
        <i class="fa fa-eye"></i>
        <span>æµè§ˆé‡ï¼š<span class="leancloud-visitors-count" ></span></span>
      </span>
    
  </div>
</header>
              <div class="post-body next-md-body" id="post_body">
                <h1 id="åŠ¨æ€ç”³è¯·ç»“æ„ä½“">åŠ¨æ€ç”³è¯·ç»“æ„ä½“</h1>
<p>ç»“æ„ä½“ä¹Ÿå¯ä»¥åœ¨å †é‡Œé¢åŠ¨æ€ç”³è¯·ï¼š</p>
<pre><code class="language-c">//Example 01
#include &lt;stdio.h&gt;
...
int main(void)
{
    struct Info *i1;
    struct Info *i2;
    
    i1 = (struct Info *)malloc(sizeof(struct Info));
    i2 = (struct Info *)malloc(sizeof(struct Info));
    if (i1 == NULL || i2 == NULL)
    {
        printf(&quot;å†…å­˜åˆ†é…å¤±è´¥ï¼\n&quot;);
        exit(1);
    }
    
    printf(&quot;è¯·å½•å…¥ç¬¬ä¸€ä¸ªåŒå­¦çš„ä¿¡æ¯...\n&quot;);
    getInput(i1);
    putchar('\n');
    printf(&quot;è¯·å½•å…¥ç¬¬äºŒä¸ªå­¦ç”Ÿçš„ä¿¡æ¯...\n&quot;);
    getInput(i2);

    printf(&quot;\nå½•å…¥å®Œæ¯•ï¼Œç°åœ¨å¼€å§‹æ‰“å°...\n\n&quot;);
    printf(&quot;æ‰“å°ç¬¬ä¸€ä¸ªå­¦ç”Ÿçš„ä¿¡æ¯...\n&quot;);
    printInfo(i1);
    putchar('\n');
    printf(&quot;æ‰“å°ç¬¬äºŒä¸ªå­¦ç”Ÿçš„ä¿¡æ¯...\n&quot;);
    printInfo(i2);
    
    free(i1);
    free(i2);
    
    return 0;
}
</code></pre>
<h1 id="å®æˆ˜å»ºç«‹ä¸€ä¸ªå›¾ä¹¦é¦†æ•°æ®åº“">å®æˆ˜ï¼šå»ºç«‹ä¸€ä¸ªå›¾ä¹¦é¦†æ•°æ®åº“</h1>
<p>å®é™…ä¸Šï¼Œæˆ‘ä»¬å»ºç«‹çš„æ•°ç»„å¯ä»¥æ˜¯æŒ‡å‘ç»“æ„ä½“æŒ‡é’ˆçš„æ•°ç»„ã€‚</p>
<p>ä»£ç å®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="language-c">//Example 02
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#define MAX_SIZE 100

struct Date
{
    int year;
    int month;
    int day;
};

struct Book
{
    char title[128];
    char author[48];
    float price;
    struct Date date;
    char publisher[48];
};

void getInput(struct Book* book);//å½•å…¥æ•°æ®
void printBook(struct Book* book);//æ‰“å°æ•°æ®
void initLibrary(struct Book* lib[]);//åˆå§‹åŒ–ç»“æ„ä½“
void printLibrary(struct Book* lib[]);//æ‰“å°å•æœ¬ä¹¦æ•°æ®
void releaseLibrary(struct Book* lib[]);//é‡Šæ”¾å†…å­˜

void getInput(struct Book* book)
{
    printf(&quot;è¯·è¾“å…¥ä¹¦åï¼š&quot;);
    scanf(&quot;%s&quot;, book-&gt;title);
    printf(&quot;è¯·è¾“å…¥ä½œè€…ï¼š&quot;);
    scanf(&quot;%s&quot;, book-&gt;author);
    printf(&quot;è¯·è¾“å…¥å”®ä»·ï¼š&quot;);
    scanf(&quot;%f&quot;, &amp;book-&gt;price);
    printf(&quot;è¯·è¾“å…¥å‡ºç‰ˆæ—¥æœŸï¼š&quot;);
    scanf(&quot;%d-%d-%d&quot;, &amp;book-&gt;date.year, &amp;book-&gt;date.month, &amp;book-&gt;date.day);
    printf(&quot;è¯·è¾“å…¥å‡ºç‰ˆç¤¾ï¼š&quot;);
    scanf(&quot;%s&quot;, book-&gt;publisher);
}

void printBook(struct Book* book)
{
    printf(&quot;ä¹¦åï¼š%s\n&quot;, book-&gt;title);
    printf(&quot;ä½œè€…ï¼š%s\n&quot;, book-&gt;author);
    printf(&quot;å”®ä»·ï¼š%.2f\n&quot;, book-&gt;price);
    printf(&quot;å‡ºç‰ˆæ—¥æœŸï¼š%d-%d-%d\n&quot;, book-&gt;date.year, book-&gt;date.month, book-&gt;date.day);
    printf(&quot;å‡ºç‰ˆç¤¾ï¼š%s\n&quot;, book-&gt;publisher);
}

void initLibrary(struct Book* lib[])
{
    for (int i = 0; i &lt; MAX_SIZE; i++)
    {
        lib[i] = NULL;
    }
}

void printLibrary(struct Book* lib[])
{
    for (int i = 0; i &lt; MAX_SIZE; i++)
    {
        if (lib[i] != NULL)
        {
            printBook(lib[i]);
            putchar('\n');
        }
    }
}

void releaseLibrary(struct Book* lib[])
{
    for (int i = 0; i &lt; MAX_SIZE; i++)
    {
        if (lib[i] != NULL)
        {
            free(lib[i]);
        }
    }
}

int main(void)
{
    struct Book* lib[MAX_SIZE];
    struct Book* p = NULL;
    int ch, index = 0;

    initLibrary(lib);

    while (1)
    {
        printf(&quot;è¯·é—®æ˜¯å¦è¦å½•å…¥å›¾ä¹¦ä¿¡æ¯(Y/N):&quot;);
        do
        {
            ch = getchar();
        } while (ch != 'Y' &amp;&amp; ch != 'N');

        if (ch == 'Y')
        {
            if (index &lt; MAX_SIZE)
            {
                p = (struct Book*)malloc(sizeof(struct Book));
                getInput(p);
                lib[index] = p;
                index++;
                putchar('\n');
            }
            else
            {
                printf(&quot;æ•°æ®åº“å·²æ»¡ï¼\n&quot;);
                break;
            }
        }
        else
        {
            break;
        }
    }

    printf(&quot;\næ•°æ®å½•å…¥å®Œæ¯•ï¼Œå¼€å§‹æ‰“å°éªŒè¯...\n\n&quot;);
    printLibrary(lib);
    releaseLibrary(lib);

    return 0;
}
</code></pre>
<p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>//Consequence 02
è¯·é—®æ˜¯å¦è¦å½•å…¥å›¾ä¹¦ä¿¡æ¯(Y/N):Y
è¯·è¾“å…¥ä¹¦åï¼šäººç±»ç®€å²
è¯·è¾“å…¥ä½œè€…ï¼šå°¤ç“¦å°”Â·èµ«æ‹‰åˆ©
è¯·è¾“å…¥å”®ä»·ï¼š32.25
è¯·è¾“å…¥å‡ºç‰ˆæ—¥æœŸï¼š2016-3-4
è¯·è¾“å…¥å‡ºç‰ˆç¤¾ï¼šä¸­ä¿¡å‡ºç‰ˆé›†å›¢

è¯·é—®æ˜¯å¦è¦å½•å…¥å›¾ä¹¦ä¿¡æ¯(Y/N):N

æ•°æ®å½•å…¥å®Œæ¯•ï¼Œå¼€å§‹æ‰“å°éªŒè¯...

ä¹¦åï¼šäººç±»ç®€å²
ä½œè€…ï¼šå°¤ç“¦å°”Â·èµ«æ‹‰åˆ©
å”®ä»·ï¼š32.25
å‡ºç‰ˆæ—¥æœŸï¼š2016-3-4
å‡ºç‰ˆç¤¾ï¼šä¸­ä¿¡å‡ºç‰ˆé›†å›¢
</code></pre>
<h1 id="å•é“¾è¡¨">å•é“¾è¡¨</h1>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œæ•°ç»„å˜é‡åœ¨å†…å­˜ä¸­ï¼Œæ˜¯è¿ç»­çš„ï¼Œè€Œä¸”ä¸å¯æ‹“å±•ã€‚æ˜¾ç„¶åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œè¿™ç§æ•°æ®ç»“æ„æ‹¥æœ‰å¾ˆå¤§çš„å±€é™æ€§ã€‚æ¯”å¦‚ç§»åŠ¨æ•°æ®çš„æ—¶å€™ï¼Œä¼šç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ï¼Œå°¤å…¶æ˜¯åè½¬è¿™ç§æ“ä½œæ›´åŠ ä»¤äººçª’æ¯ã€‚é‚£ä¹ˆï¼Œéœ€è¦éœ€è¦ä¸€ç§æ•°æ®ç»“æ„æ¥å¼„å‡ºä¸€ç§æ›´åŠ çµæ´»çš„â€œæ•°ç»„â€ï¼Œé‚£ä¹ˆè¿™ï¼Œå°±æ˜¯<strong>é“¾è¡¨</strong>ã€‚</p>
<p>æœ¬èŠ‚æˆ‘ä»¬åªè®²è®²å•é“¾è¡¨ã€‚</p>
<p>æ‰€è°“é“¾è¡¨ï¼Œå°±æ˜¯ç”±ä¸€ä¸ªä¸ª<strong>ç»“ç‚¹</strong>ç»„æˆçš„ä¸€ä¸ªæ•°æ®ç»“æ„ã€‚æ¯ä¸ªç»“ç‚¹éƒ½æœ‰<strong>æ•°æ®åŸŸ</strong>å’Œ<strong>æŒ‡é’ˆåŸŸ</strong>ç»„æˆã€‚å…¶ä¸­æ•°æ®åŸŸç”¨æ¥å­˜å‚¨ä½ æƒ³è¦å­˜å‚¨çš„ä¿¡æ¯ï¼Œè€ŒæŒ‡é’ˆåŸŸç”¨æ¥å­˜å‚¨ä¸‹ä¸€ä¸ªç»“ç‚¹çš„åœ°å€ã€‚å¦‚å›¾ï¼š</p>
<figure data-type="image" tabindex="1"><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1582172126913&amp;di=6235443bc28e35d4d02c9032141a9a3a&amp;imgtype=jpg&amp;src=http%3A%2F%2Fimg1.imgtn.bdimg.com%2Fit%2Fu%3D3182779591%2C3019656518%26fm%3D214%26gp%3D0.jpg" alt="å•é“¾è¡¨" loading="lazy"></figure>
<p>å½“ç„¶ï¼Œé“¾è¡¨æœ€å‰é¢è¿˜æœ‰ä¸€ä¸ªå¤´æŒ‡é’ˆï¼Œç”¨æ¥å­˜å‚¨å¤´ç»“ç‚¹çš„åœ°å€ã€‚</p>
<p>è¿™æ ·ä¸€æ¥ï¼Œé“¾è¡¨ä¸­çš„æ¯ä¸€ä¸ªç»“ç‚¹éƒ½å¯ä»¥ä¸ç”¨æŒ¨ä¸ªå­˜æ”¾ï¼Œå› ä¸ºæœ‰äº†æŒ‡é’ˆæŠŠä»–ä»¬ä¸²èµ·æ¥ã€‚å› æ­¤ç»“ç‚¹æ”¾åœ¨å“ªéƒ½æ— æ‰€è°“ï¼Œåæ­£æŒ‡é’ˆæ€»æ˜¯èƒ½å¤ŸæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚æˆ‘ä»¬åªéœ€è¦çŸ¥é“å¤´æŒ‡é’ˆï¼Œå°±èƒ½å¤Ÿé¡ºè—¤æ‘¸ç“œåœ°æ‰¾åˆ°æ•´ä¸ªé“¾è¡¨ã€‚</p>
<p>å› æ­¤å¯¹äºå­¦ç±æ•°æ®åº“æ¥è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨Infoç»“æ„ä½“ä¸­åŠ ä¸Šä¸€ä¸ªæŒ‡å‘è‡ªèº«ç±»å‹çš„æˆå‘˜å³å¯ï¼š</p>
<pre><code class="language-c">struct Info
{
    unsigned long identifier;
    char name[20];
    struct Date date;
    unsigned int years;
    struct Info* next;
};
</code></pre>
<h2 id="åœ¨å•é“¾è¡¨ä¸­æ’å…¥å…ƒç´ ">åœ¨å•é“¾è¡¨ä¸­æ’å…¥å…ƒç´ </h2>
<h3 id="å¤´æ’æ³•">å¤´æ’æ³•</h3>
<figure data-type="image" tabindex="2"><img src="https://upload-images.jianshu.io/upload_images/10074272-da68e6d07f274ea0.jpg" alt="å¤´æ’æ³•" loading="lazy"></figure>
<p>è¿™ç§æ¯æ¬¡éƒ½å°†æ•°æ®æ’å…¥å•é“¾è¡¨çš„å¤´éƒ¨ï¼ˆå¤´æŒ‡é’ˆåé¢ï¼‰çš„æ’å…¥æ³•å°±å«å¤´æ’æ³•ã€‚</p>
<p>å¦‚æœè¦æŠŠå­¦ç”Ÿä¿¡æ¯åŠ å…¥åˆ°å•é“¾è¡¨ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š</p>
<pre><code class="language-c">void addInfo(struct Info** students)//studentsæ˜¯å¤´æŒ‡é’ˆ
{
    struct Info* info, *temp;
    info = (struct Info*)malloc(sizeof(struct Info));
    if (info == NULL)
    {
        printf(&quot;å†…å­˜åˆ†é…å¤±è´¥ï¼\n&quot;);
        exit(1);
    }
    
    getInput(info);
    
    if (*students != NULL)
    {
        temp = *students;
        *students = info;
        info-&gt;next = temp;
    }
    else
    {
        *students = info;
        info-&gt;next = NULL;
    }
}
</code></pre>
<blockquote>
<p>ç”±äºstudentså­˜æ”¾çš„æ˜¯å¤´æŒ‡é’ˆï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¼ å…¥å®ƒçš„åœ°å€ä¼ é€’ç»™å‡½æ•°ï¼Œæ‰èƒ½å¤Ÿæ”¹å˜å®ƒæœ¬èº«çš„å€¼ã€‚è€Œstudentsæœ¬èº«åˆæ˜¯ä¸€ä¸ªæŒ‡å‘Infoç»“æ„ä½“çš„æŒ‡é’ˆï¼Œæ‰€ä»¥å‚æ•°çš„ç±»å‹åº”è¯¥å°±æ˜¯<code>struct Info**</code>ã€‚</p>
</blockquote>
<p>å¾€å•é“¾è¡¨é‡Œé¢æ·»åŠ ä¸€ä¸ªç»“ç‚¹ï¼Œä¹Ÿå°±æ˜¯å…ˆç”³è¯·ä¸€ä¸ªç»“ç‚¹ï¼Œç„¶ååˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©ºã€‚å¦‚æœä¸ºç©ºï¼Œé‚£ä¹ˆç›´æ¥å°†å¤´æŒ‡é’ˆæŒ‡å‘å®ƒï¼Œç„¶å<code>next</code>æˆå‘˜æŒ‡å‘<code>NULL</code>ã€‚è‹¥ä¸ä¸ºç©ºï¼Œé‚£ä¹ˆå…ˆå°†<code>next</code>æŒ‡å‘å¤´æŒ‡é’ˆåŸæœ¬æŒ‡å‘çš„ç»“ç‚¹ï¼Œç„¶åå°†å¤´æŒ‡é’ˆæŒ‡å‘æ–°ç»“ç‚¹å³å¯ã€‚</p>
<p>é‚£ä¹ˆï¼Œæ‰“å°é“¾è¡¨ä¹Ÿå˜å¾—å¾ˆç®€å•ï¼š</p>
<pre><code class="language-c">void printStu(struct Info* students)
{
    struct Info* info;
    int count = 1;
    
    info = students;
    while (book != NULL)
    {
        printf(&quot;Student%d:\n&quot;, count);
        printf(&quot;å§“åï¼š%s\n&quot;, info-&gt;name);
        printf(&quot;å­¦å·ï¼š%d\n&quot;, info-&gt;identifier);
        info = info-&gt;next;
        count++;
    }
}
</code></pre>
<p>æƒ³è¦è¯»å–å•é“¾è¡¨é‡Œé¢çš„æ•°æ®ï¼Œåªéœ€è¦è¿­ä»£å•é“¾è¡¨ä¸­çš„æ¯ä¸€ä¸ªç»“ç‚¹ï¼Œç›´åˆ°<code>next</code>æˆå‘˜ä¸º<code>NULL</code>ï¼Œå³è¡¨ç¤ºå•é“¾è¡¨çš„ç»“æŸã€‚</p>
<p>æœ€åï¼Œå½“ç„¶è¿˜æ˜¯åˆ«å¿˜äº†é‡Šæ”¾ç©ºé—´ï¼š</p>
<pre><code class="language-c">void releaseStu(struct Info** students)
{
    struct Info* temp;
    
    while (*students != NULL)
    {
        temp = *students;
        *students = (*students)-&gt;next;
        free(temp);
    }
}
</code></pre>
<h3 id="å°¾æ’æ³•">å°¾æ’æ³•</h3>
<p>ä¸å¤´æ’æ³•ç±»ä¼¼ï¼Œå°¾æ’æ³•å°±æ˜¯æŠŠæ¯ä¸€ä¸ªæ•°æ®éƒ½æ’å…¥åˆ°é“¾è¡¨çš„æœ«å°¾ã€‚</p>
<pre><code class="language-c">void addInfo(struct Info** students)
{
    struct Info* info, *temp;
    info = (struct Info*)malloc(sizeof(struct Info));
    if (info == NULL)
    {
        printf(&quot;å†…å­˜åˆ†é…å¤±è´¥ï¼\n&quot;);
        exit(1);
    }
    
    getInput(info);
    
    if (*students != NULL)
    {
        temp = *students;
        *students = info;
        //å®šä½åˆ°é“¾è¡¨çš„æœ«å°¾çš„ä½ç½®
        while (temp-&gt;next != NULL)
        {
            temp = temp-&gt;next;
        }
        //æ’å…¥æ•°æ®
        temp-&gt;next = info;
        info-&gt;next = temp;
    }
    else
    {
        *students = info;
        info-&gt;next = NULL;
    }
}
</code></pre>
<p>è¿™ä¹ˆä¸€æ¥ï¼Œç¨‹åºæ‰§è¡Œçš„æ•ˆç‡éš¾å…è¦é™ä½å¾ˆå¤šï¼Œå› ä¸ºæ¯æ¬¡æ’å…¥æ•°æ®ï¼Œéƒ½è¦å…ˆéå†ä¸€æ¬¡é“¾è¡¨ã€‚å¦‚æœé“¾è¡¨å¾ˆé•¿ï¼Œé‚£ä¹ˆå¯¹äºæ’å…¥æ•°æ®æ¥è¯´å°±æ˜¯ä¸€æ¬¡ç¾éš¾ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ç¨‹åºæ·»åŠ ä¸€ä¸ªæŒ‡é’ˆï¼Œè®©å®ƒæ°¸è¿œéƒ½æŒ‡å‘é“¾è¡¨çš„å°¾éƒ¨ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå°±å¯ä»¥ç”¨å¾ˆå°‘çš„ç©ºé—´æ¢å–å¾ˆé«˜çš„ç¨‹åºæ‰§è¡Œæ•ˆç‡ã€‚</p>
<p>ä»£ç æ›´æ”¹å¦‚ä¸‹ï¼š</p>
<pre><code class="language-c">void addInfo(struct Info** students)
{
    struct Info* info, *temp;
    static struct Info* tail;//è®¾ç½®é™æ€æŒ‡é’ˆ
    info = (struct Info*)malloc(sizeof(struct Info));
    if (info == NULL)
    {
        printf(&quot;å†…å­˜åˆ†é…å¤±è´¥ï¼\n&quot;);
        exit(1);
    }
    
    getInput(info);
    
    if (*students != NULL)
    {
        tail-&gt;next = info;
        info-&gt;next = NULL;
    }
    else
    {
        *students = info;
        info-&gt;next = NULL;
    }
}
</code></pre>
<h2 id="æœç´¢å•é“¾è¡¨">æœç´¢å•é“¾è¡¨</h2>
<p>å•é“¾è¡¨æ˜¯æˆ‘ä»¬ç”¨æ¥å­˜å‚¨æ•°æ®çš„ä¸€ä¸ªå®¹å™¨ï¼Œé‚£ä¹ˆæœ‰æ—¶å€™éœ€è¦å¿«é€ŸæŸ¥æ‰¾ä¿¡æ¯å°±éœ€è¦å¼€å‘ç›¸å…³æœç´¢çš„åŠŸèƒ½ã€‚æ¯”å¦‚è¯´è¾“å…¥å­¦å·ï¼ŒæŸ¥æ‰¾åŒå­¦çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p>
<pre><code class="language-c">struct Info *searchInfo(struct Info* students, long* target)
{
    struct Info* info;
    info = students;
    while (info != NULL)
    {
        if (info-&gt;identifier == target)
        {
            break;
        }
        info = info-&gt;next;
    }
    
    return book;
};

void printInfo(struct Info* info)
{
    ...
}
...

int main(void)
{
    ...
    printf(&quot;\nè¯·è¾“å…¥å­¦ç”Ÿå­¦å·ï¼š&quot;);
    scanf(&quot;%d&quot;, input);
    info = searchInfo(students, input);
    if (info == NULL)
    {
        printf(&quot;æŠ±æ­‰ï¼Œæœªæ‰¾åˆ°ç›¸å…³ç»“æœï¼\n&quot;);
    }
    else
    {
        do
        {
            printf(&quot;ç›¸å…³ç»“æœå¦‚ä¸‹ï¼š\n&quot;);
            printInfo(book);
        } while ((info = searchInfo(info-&gt;next, input)) != NULL);
    }
    
    releaseInfo(...);
    return 0;
}
</code></pre>
<h2 id="æ’å…¥ç»“ç‚¹åˆ°æŒ‡å®šä½ç½®">æ’å…¥ç»“ç‚¹åˆ°æŒ‡å®šä½ç½®</h2>
<p>åˆ°äº†è¿™é‡Œï¼Œæ‰ä½“ç°å‡ºé“¾è¡¨çœŸæ­£çš„ä¼˜åŠ¿ã€‚</p>
<p>è®¾æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæœ‰ä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œç°åœ¨è¦æ±‚ä½ å»æ’å…¥ä¸€ä¸ªæ•°å­—ï¼Œæ’å…¥å®Œæˆä¹‹åï¼Œæ•°ç»„ä¾ç„¶ä¿æŒæœ‰åºã€‚ä½ ä¼šæ€ä¹ˆåšï¼Ÿ</p>
<p>æ²¡é”™ï¼Œä½ åº”è¯¥ä¼šæŒ¨ä¸ªå»æ¯”è¾ƒï¼Œç„¶åæ‰¾åˆ°åˆé€‚çš„ä½ç½®ï¼ˆå½“ç„¶è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨äºŒåˆ†æ³•ï¼Œæ¯”è¾ƒèŠ‚çœç®—åŠ›ï¼‰ï¼ŒæŠŠè¿™ä¸ªä½ç½®åé¢çš„æ‰€æœ‰æ•°éƒ½å¾€åç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œç„¶åå°†æˆ‘ä»¬è¦æ’å…¥çš„æ•°å­—æ”¾å…¥åˆšåˆšæˆ‘ä»¬è…¾å‡ºæ¥çš„ç©ºé—´é‡Œé¢ã€‚</p>
<p>ä½ ä¼šå‘ç°ï¼Œè¿™æ ·çš„å¤„ç†æ–¹æ³•ï¼Œç»å¸¸éœ€è¦ç§»åŠ¨å¤§é‡çš„æ•°æ®ï¼Œå¯¹äºç¨‹åºçš„æ‰§è¡Œæ•ˆç‡æ¥è¯´ï¼Œæ˜¯ä¸€ä¸ªä¸åˆ©å› ç´ ã€‚é‚£ä¹ˆé“¾è¡¨ï¼Œå°±æ— æ‰€è°“ã€‚åæ­£åœ¨å†…å­˜ä¸­ï¼Œé“¾è¡¨çš„å­˜å‚¨æ¯«æ— é€»è¾‘ï¼Œæˆ‘ä»¬åªéœ€è¦æ”¹å˜æŒ‡é’ˆçš„å€¼å°±å¯ä»¥å®ç°é“¾è¡¨çš„ä¸­é—´æ’å…¥ã€‚</p>
<pre><code class="language-c">//Example 03
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

struct Node
{
    int value;
    struct Node* next;
};

void insNode(struct Node** head, int value)
{
    struct Node* pre;
    struct Node* cur;
    struct Node* New;

    cur = *head;
    pre = NULL;

    while (cur != NULL &amp;&amp; cur-&gt;value &lt; value)
    {
        pre = cur;
        cur = cur-&gt;next;
    }

    New = (struct Node*)malloc(sizeof(struct Node));
    if (New == NULL)
    {
        printf(&quot;å†…å­˜åˆ†é…å¤±è´¥ï¼\n&quot;);
        exit(1);
    }
    New-&gt;value = value;
    New-&gt;next = cur;

    if (pre == NULL)
    {
        *head = New;
    }
    else
    {
        pre-&gt;next = New;
    }
}

void printNode(struct Node* head)
{
    struct Node* cur;

    cur = head;
    while (cur != NULL)
    {
        printf(&quot;%d &quot;, cur-&gt;value);
        cur = cur-&gt;next;
    }
    putchar('\n');
}

int main(void)
{
    struct Node* head = NULL;
    int input;

    printf(&quot;å¼€å§‹æ’å…¥æ•´æ•°...\n&quot;);
    while (1)
    {
        printf(&quot;è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè¾“å…¥-1è¡¨ç¤ºç»“æŸï¼š&quot;);
        scanf(&quot;%d&quot;, &amp;input);
        if (input == -1)
        {
            break;
        }
        insNode(&amp;head, input);
        printNode(head);
    }

    return 0;
}
</code></pre>
<p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>//Consequence 03
å¼€å§‹æ’å…¥æ•´æ•°...
è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè¾“å…¥-1è¡¨ç¤ºç»“æŸï¼š4
4
è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè¾“å…¥-1è¡¨ç¤ºç»“æŸï¼š5
4 5
è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè¾“å…¥-1è¡¨ç¤ºç»“æŸï¼š3
3 4 5
è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè¾“å…¥-1è¡¨ç¤ºç»“æŸï¼š6
3 4 5 6
è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè¾“å…¥-1è¡¨ç¤ºç»“æŸï¼š2
2 3 4 5 6
è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè¾“å…¥-1è¡¨ç¤ºç»“æŸï¼š5
2 3 4 5 5 6
è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè¾“å…¥-1è¡¨ç¤ºç»“æŸï¼š1
1 2 3 4 5 5 6
è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè¾“å…¥-1è¡¨ç¤ºç»“æŸï¼š7
1 2 3 4 5 5 6 7
è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè¾“å…¥-1è¡¨ç¤ºç»“æŸï¼š-1
</code></pre>
<h2 id="åˆ é™¤ç»“ç‚¹">åˆ é™¤ç»“ç‚¹</h2>
<p>åˆ é™¤ç»“ç‚¹çš„æ€è·¯ä¹Ÿå·®ä¸å¤šï¼Œé¦–å…ˆä¿®æ”¹å¾…åˆ é™¤çš„ç»“ç‚¹çš„ä¸Šä¸€ä¸ªç»“ç‚¹çš„æŒ‡é’ˆï¼Œå°†å…¶æŒ‡å‘å¾…åˆ é™¤ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹ã€‚ç„¶åé‡Šæ”¾å¾…åˆ é™¤ç»“ç‚¹çš„ç©ºé—´ã€‚</p>
<pre><code class="language-c">...
void delNode(struct Node** head, int value)
{
    struct Node* pre;
    struct Node* cur;
    
    cur = *head;
    pre = NULL;
    while (cur != NULL &amp;&amp; cur-&gt;value != value)
    {
        pre = cur;
        cur = cur-&gt;next;
    }
    if (cur == NULL)
    {
        printf(&quot;æœªæ‰¾åˆ°åŒ¹é…é¡¹!\n&quot;);
        return ;
    }
    else
    {
        if (pre == NULL)
        {
            *head = cur-&gt;next;
        }
        else
        {
            pre-&gt;next = cur-&gt;next;
        }
        free(cur);
    }
}
</code></pre>
<h1 id="å†…å­˜æ± ">å†…å­˜æ± </h1>
<p>Cè¯­è¨€çš„å†…å­˜ç®¡ç†ï¼Œä»æ¥éƒ½æ˜¯ä¸€ä¸ªè®©äººå¤´ç§ƒçš„é—®é¢˜ã€‚è¦æƒ³æ›´è‡ªç”±åœ°ç®¡ç†å†…å­˜ï¼Œå°±å¿…é¡»å»å †ä¸­ç”³è¯·ï¼Œç„¶åè¿˜éœ€è¦è€ƒè™‘ä½•æ—¶é‡Šæ”¾ï¼Œä¸‡ä¸€é‡Šæ”¾ä¸å½“ï¼Œæˆ–è€…æ²¡æœ‰åŠæ—¶é‡Šæ”¾ï¼Œé€ æˆçš„åæœéƒ½æ˜¯éš¾ä»¥ä¼°é‡çš„ã€‚</p>
<p>å½“ç„¶å¦‚æœå°±è¿™äº›ï¼Œé‚£å€’ä¹Ÿè¿˜ä¸ç®—ä»€ä¹ˆã€‚é—®é¢˜å°±åœ¨äºï¼Œå¦‚æœå¤§é‡åœ°ä½¿ç”¨<code>malloc</code>å’Œ<code>free</code>å‡½æ•°æ¥ç”³è¯·å†…å­˜ï¼Œé¦–å…ˆä½¿è¦ç»å†ä¸€ä¸ªä»åº”ç”¨å±‚åˆ‡å…¥ç³»ç»Ÿå†…æ ¸å±‚ï¼Œè°ƒç”¨å®Œæˆä¹‹åï¼Œå†è¿”å›åº”ç”¨å±‚çš„ä¸€ç³»åˆ—æ­¥éª¤ï¼Œå®é™…ä¸Šä½¿éå¸¸æµªè´¹æ—¶é—´çš„ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œè¿˜ä¼šäº§ç”Ÿå¤§é‡çš„å†…å­˜ç¢ç‰‡ã€‚æ¯”å¦‚ï¼Œå…ˆç”³è¯·äº†ä¸€ä¸ª1KBçš„ç©ºé—´ï¼Œç´§æ¥ç€åˆç”³è¯·äº†ä¸€ä¸ª8KBçš„ç©ºé—´ã€‚è€Œåï¼Œè¿™ä¸ª1KBä½¿ç”¨å®Œäº†ï¼Œè¢«é‡Šæ”¾ï¼Œä½†æ˜¯è¿™ä¸ªç©ºé—´å´åªæœ‰ç­‰åˆ°ä¸‹ä¸€æ¬¡æœ‰åˆšå¥½1KBçš„ç©ºé—´ç”³è¯·ï¼Œæ‰èƒ½å¤Ÿè¢«é‡æ–°è°ƒç”¨ã€‚è¿™ä¹ˆä¸€æ¥ï¼Œæé™æƒ…å†µä¸‹ï¼Œæ•´ä¸ªå †æœ‰å¯èƒ½è¢«å¼„å¾—æ”¯ç¦»ç ´ç¢ï¼Œæœ€ç»ˆå¯¼è‡´å¤§é‡å†…å­˜æµªè´¹ã€‚</p>
<p>é‚£ä¹ˆè¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è§£å†³è¿™ç±»é—®é¢˜çš„æ€è·¯ï¼Œå°±æ˜¯åˆ›å»ºä¸€ä¸ªå†…å­˜æ± ã€‚</p>
<p>å†…å­˜æ± ï¼Œå®é™…ä¸Šå°±æ˜¯æˆ‘ä»¬è®©ç¨‹åºåˆ›å»ºå‡ºæ¥çš„ä¸€å—é¢å¤–çš„ç¼“å­˜åŒºåŸŸï¼Œå¦‚æœæœ‰éœ€è¦é‡Šæ”¾å†…å­˜ï¼Œå…ˆä¸å¿…ä½¿ç”¨<code>free</code>å‡½æ•°ï¼Œå¦‚æœå†…å­˜æ± æœ‰ç©ºï¼Œé‚£ä¹ˆç›´æ¥æ”¾å…¥å†…å­˜æ± ã€‚åŒæ ·çš„é“ç†ï¼Œä¸‹ä¸€æ¬¡ç¨‹åºç”³è¯·ç©ºé—´çš„æ—¶å€™ï¼Œå…ˆæ£€æŸ¥ä¸‹å†…å­˜æ± é‡Œé¢æœ‰æ²¡æœ‰åˆé€‚çš„å†…å­˜ï¼Œå¦‚æœæœ‰ï¼Œåˆ™ç›´æ¥æ‹¿å‡ºæ¥è°ƒç”¨ï¼Œå¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆå†ä½¿ç”¨<code>malloc</code>ã€‚</p>
<p>å…¶å®å†…å­˜æ± æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å•é“¾è¡¨æ¥è¿›è¡Œç»´æŠ¤ï¼Œä¸‹é¢é€šè¿‡ä¸€ä¸ªé€šè®¯å½•çš„ç¨‹åºæ¥è¯´æ˜å†…å­˜æ± çš„è¿ç”¨ã€‚</p>
<p>æ™®é€šçš„ç‰ˆæœ¬ï¼š</p>
<pre><code class="language-c">//Example 04 V1
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

struct Person
{
	char name[40];
	char phone[20];
	struct Person* next;
};

void getInput(struct Person* person);
void printPerson(struct Person* person);
void addPerson(struct Person** contects);
void changePerson(struct Person* contacts);
void delPerson(struct Person** contacts);
struct Person* findPerson(struct Person* contacts);
void displayContacts(struct Person* contacts);
void releaseContacts(struct Person** contacts);

void getInput(struct Person* person)
{
	printf(&quot;è¯·è¾“å…¥å§“åï¼š&quot;);
	scanf(&quot;%s&quot;, person-&gt;name);
	printf(&quot;è¯·è¾“å…¥ç”µè¯ï¼š&quot;);
	scanf(&quot;%s&quot;, person-&gt;phone);
}

void addPerson(struct Person** contacts)
{
	struct Person* person;
	struct Person* temp;

	person = (struct Person*)malloc(sizeof(struct Person));
	if (person == NULL)
	{
		printf(&quot;å†…å­˜åˆ†é…å¤±è´¥ï¼\n&quot;);
		exit(1);
	}

	getInput(person);

	//å°†personæ·»åŠ åˆ°é€šè®¯å½•ä¸­
	if (*contacts != NULL)
	{
		temp = *contacts;
		*contacts = person;
		person-&gt;next = temp;
	}
	else
	{
		*contacts = person;
		person-&gt;next = NULL;
	}
}

void printPerson(struct Person* person)
{
	printf(&quot;è”ç³»äººï¼š%s\n&quot;, person-&gt;name);
	printf(&quot;ç”µè¯ï¼š%s\n&quot;, person-&gt;phone);
}

struct Person* findPerson(struct Person* contacts)
{
	struct Person* current;
	char input[40];

	printf(&quot;è¯·è¾“å…¥è”ç³»äººï¼š&quot;);
	scanf(&quot;%s&quot;, input);

	current = contacts;
	while (current != NULL &amp;&amp; strcmp(current-&gt;name, input))
	{
		current = current-&gt;next;
	}

	return current;
}

void changePerson(struct Person* contacts)
{
	struct Person* person;

	person = findPerson(contacts);
	if (person == NULL)
	{
		printf(&quot;æ‰¾ä¸åˆ°è”ç³»äººï¼\n&quot;);
	}
	else
	{
		printf(&quot;è¯·è¾“å…¥è”ç³»ç”µè¯ï¼š&quot;);
		scanf(&quot;%s&quot;, person-&gt;phone);
	}
}

void delPerson(struct Person** contacts)
{
	struct Person* person;
	struct Person* current;
	struct Person* previous;

	//å…ˆæ‰¾åˆ°å¾…åˆ é™¤çš„èŠ‚ç‚¹çš„æŒ‡é’ˆ
	person = findPerson(*contacts);
	if (person == NULL)
	{
		printf(&quot;æ‰¾ä¸åˆ°è¯¥è”ç³»äººï¼\n&quot;);
	}
	else
	{
		current = *contacts;
		previous = NULL;

		//å°†currentå®šä½åˆ°å¾…åˆ é™¤çš„èŠ‚ç‚¹
		while (current != NULL &amp;&amp; current != person)
		{
			previous = current;
			current = current-&gt;next;
		}

		if (previous == NULL)
		{
			//è‹¥å¾…åˆ é™¤çš„æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
			*contacts = current-&gt;next;
		}
		else
		{
			//è‹¥å¾…åˆ é™¤çš„ä¸æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
			previous-&gt;next = current-&gt;next;
		}

		free(person);//å°†å†…å­˜ç©ºé—´é‡Šæ”¾
	}
}

void displayContacts(struct Person* contacts)
{
	struct Person* current;

	current = contacts;
	while (current != NULL)
	{
		printPerson(current);
		current = current-&gt;next;
	}
}

void releaseContacts(struct Person** contacts)
{
	struct Person* temp;

	while (*contacts != NULL)
	{
		temp = *contacts;
		*contacts = (*contacts)-&gt;next;
		free(temp);
	}
}

int main(void)
{
	int code;
	struct Person* contacts = NULL;
	struct Person* person;

	printf(&quot;| æ¬¢è¿ä½¿ç”¨é€šè®¯å½•ç®¡ç†ç¨‹åº |\n&quot;);
	printf(&quot;|--- 1:æ’å…¥æ–°çš„è”ç³»äºº ---|\n&quot;);
	printf(&quot;|--- 2:æŸ¥æ‰¾ç°æœ‰è”ç³»äºº ---|\n&quot;);
	printf(&quot;|--- 3:æ›´æ”¹ç°æœ‰è”ç³»äºº ---|\n&quot;);
	printf(&quot;|--- 4:åˆ é™¤ç°æœ‰è”ç³»äºº ---|\n&quot;);
	printf(&quot;|--- 5:æ˜¾ç¤ºå½“å‰é€šè®¯å½• ---|\n&quot;);
	printf(&quot;|--- 6:é€€å‡ºé€šè®¯å½•ç¨‹åº ---|\n&quot;);

	while (1)
	{
		printf(&quot;\nè¯·è¾“å…¥æŒ‡ä»¤ä»£ç ï¼š&quot;);
		scanf(&quot;%d&quot;, &amp;code);
		switch (code)
		{
		case 1:addPerson(&amp;contacts); break;
		case 2:person = findPerson(contacts);
			if (person == NULL)
			{
				printf(&quot;æ‰¾ä¸åˆ°è¯¥è”ç³»äººï¼\n&quot;);
			}
			else
			{
				printPerson(person);
			}
			break;
		case 3:changePerson(contacts); break;
		case 4:delPerson(&amp;contacts); break;
		case 5:displayContacts(contacts); break;
		case 6:goto END;
		}
	}

END://æ­¤å¤„ç›´æ¥è·³å‡ºæ’å¾ªç¯
	releaseContacts(&amp;contacts);

	return 0;

}
</code></pre>
<p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>//Consequence 04 V1
| æ¬¢è¿ä½¿ç”¨é€šè®¯å½•ç®¡ç†ç¨‹åº |
|--- 1:æ’å…¥æ–°çš„è”ç³»äºº ---|
|--- 2:æŸ¥æ‰¾ç°æœ‰è”ç³»äºº ---|
|--- 3:æ›´æ”¹ç°æœ‰è”ç³»äºº ---|
|--- 4:åˆ é™¤ç°æœ‰è”ç³»äºº ---|
|--- 5:æ˜¾ç¤ºå½“å‰é€šè®¯å½• ---|
|--- 6:é€€å‡ºé€šè®¯å½•ç¨‹åº ---|

è¯·è¾“å…¥æŒ‡ä»¤ä»£ç ï¼š1
è¯·è¾“å…¥å§“åï¼šHarrisWilde
è¯·è¾“å…¥ç”µè¯ï¼š0101111

è¯·è¾“å…¥æŒ‡ä»¤ä»£ç ï¼š1
è¯·è¾“å…¥å§“åï¼šJack
è¯·è¾“å…¥ç”µè¯ï¼š0101112

è¯·è¾“å…¥æŒ‡ä»¤ä»£ç ï¼š1
è¯·è¾“å…¥å§“åï¼šRose
è¯·è¾“å…¥ç”µè¯ï¼š0101113

è¯·è¾“å…¥æŒ‡ä»¤ä»£ç ï¼š2
è¯·è¾“å…¥è”ç³»äººï¼šHarrisWilde
è”ç³»äººï¼šHarrisWilde
ç”µè¯ï¼š0101111

è¯·è¾“å…¥æŒ‡ä»¤ä»£ç ï¼š2
è¯·è¾“å…¥è”ç³»äººï¼šMike
æ‰¾ä¸åˆ°è¯¥è”ç³»äººï¼

è¯·è¾“å…¥æŒ‡ä»¤ä»£ç ï¼š5
è”ç³»äººï¼šRose
ç”µè¯ï¼š0101113
è”ç³»äººï¼šJack
ç”µè¯ï¼š0101112
è”ç³»äººï¼šHarrisWilde
ç”µè¯ï¼š0101111

è¯·è¾“å…¥æŒ‡ä»¤ä»£ç ï¼š3
è¯·è¾“å…¥è”ç³»äººï¼šHarrisWilde
è¯·è¾“å…¥è”ç³»ç”µè¯ï¼š0101234

è¯·è¾“å…¥æŒ‡ä»¤ä»£ç ï¼š5
è”ç³»äººï¼šRose
ç”µè¯ï¼š0101113
è”ç³»äººï¼šJack
ç”µè¯ï¼š0101112
è”ç³»äººï¼šHarrisWilde
ç”µè¯ï¼š0101234

è¯·è¾“å…¥æŒ‡ä»¤ä»£ç ï¼š6
</code></pre>
<p>ä¸‹é¢åŠ å…¥å†…å­˜æ± ï¼š</p>
<pre><code class="language-c">//Example 04 V2
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

#define MAX 1024

struct Person
{
	char name[40];
	char phone[20];
	struct Person* next;
};

struct Person* pool = NULL;
int count;

void getInput(struct Person* person);
void printPerson(struct Person* person);
void addPerson(struct Person** contects);
void changePerson(struct Person* contacts);
void delPerson(struct Person** contacts);
struct Person* findPerson(struct Person* contacts);
void displayContacts(struct Person* contacts);
void releaseContacts(struct Person** contacts);
void releasePool(void);

void getInput(struct Person* person)
{
	printf(&quot;è¯·è¾“å…¥å§“åï¼š&quot;);
	scanf(&quot;%s&quot;, person-&gt;name);
	printf(&quot;è¯·è¾“å…¥ç”µè¯ï¼š&quot;);
	scanf(&quot;%s&quot;, person-&gt;phone);
}

void addPerson(struct Person** contacts)
{
	struct Person* person;
	struct Person* temp;

	//å¦‚æœå†…å­˜æ± ä¸æ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆé¦–å…ˆä»é‡Œé¢è·å–ç©ºé—´
	if (pool != NULL)
	{
		person = pool;
		pool = pool-&gt;next;
		count--;
	}
	//å†…å­˜æ± ä¸ºç©ºï¼Œåˆ™ç›´æ¥ç”³è¯·
	else
	{
		person = (struct Person*)malloc(sizeof(struct Person));
		if (person == NULL)
		{
			printf(&quot;å†…å­˜åˆ†é…å¤±è´¥ï¼\n&quot;);
			exit(1);
		}
	}


	getInput(person);

	//å°†personæ·»åŠ åˆ°é€šè®¯å½•ä¸­
	if (*contacts != NULL)
	{
		temp = *contacts;
		*contacts = person;
		person-&gt;next = temp;
	}
	else
	{
		*contacts = person;
		person-&gt;next = NULL;
	}
}

void printPerson(struct Person* person)
{
	printf(&quot;è”ç³»äººï¼š%s\n&quot;, person-&gt;name);
	printf(&quot;ç”µè¯ï¼š%s\n&quot;, person-&gt;phone);
}

struct Person* findPerson(struct Person* contacts)
{
	struct Person* current;
	char input[40];

	printf(&quot;è¯·è¾“å…¥è”ç³»äººï¼š&quot;);
	scanf(&quot;%s&quot;, input);

	current = contacts;
	while (current != NULL &amp;&amp; strcmp(current-&gt;name, input))
	{
		current = current-&gt;next;
	}

	return current;
}

void changePerson(struct Person* contacts)
{
	struct Person* person;

	person = findPerson(contacts);
	if (person == NULL)
	{
		printf(&quot;æ‰¾ä¸åˆ°è”ç³»äººï¼\n&quot;);
	}
	else
	{
		printf(&quot;è¯·è¾“å…¥è”ç³»ç”µè¯ï¼š&quot;);
		scanf(&quot;%s&quot;, person-&gt;phone);
	}
}

void delPerson(struct Person** contacts)
{
	struct Person* person;
	struct Person* current;
	struct Person* previous;
	struct Person* temp;
	{

	};

	//å…ˆæ‰¾åˆ°å¾…åˆ é™¤çš„èŠ‚ç‚¹çš„æŒ‡é’ˆ
	person = findPerson(*contacts);
	if (person == NULL)
	{
		printf(&quot;æ‰¾ä¸åˆ°è¯¥è”ç³»äººï¼\n&quot;);
	}
	else
	{
		current = *contacts;
		previous = NULL;

		//å°†currentå®šä½åˆ°å¾…åˆ é™¤çš„èŠ‚ç‚¹
		while (current != NULL &amp;&amp; current != person)
		{
			previous = current;
			current = current-&gt;next;
		}

		if (previous == NULL)
		{
			//è‹¥å¾…åˆ é™¤çš„æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
			*contacts = current-&gt;next;
		}
		else
		{
			//è‹¥å¾…åˆ é™¤çš„ä¸æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
			previous-&gt;next = current-&gt;next;
		}

		//åˆ¤æ–­å†…å­˜æ± ä¸­æœ‰æ²¡æœ‰ç©ºä½
		if (count &lt; MAX)
		{
			//ä½¿ç”¨å¤´æ’æ³•å°†personæŒ‡å‘çš„ç©ºé—´æ’å…¥å†…å­˜æ± ä¸­
			if (pool != NULL)
			{
				temp = pool;
				pool = person;
				person-&gt;next = temp;
			}
			else
			{
				pool = person;
				person-&gt;next = NULL;
			}
			count++;
		}
		//æ²¡æœ‰ç©ºä½ï¼Œç›´æ¥é‡Šæ”¾
		else
		{
			free(person);//å°†å†…å­˜ç©ºé—´é‡Šæ”¾
		}
	}
}

void displayContacts(struct Person* contacts)
{
	struct Person* current;

	current = contacts;
	while (current != NULL)
	{
		printPerson(current);
		current = current-&gt;next;
	}
}

void releaseContacts(struct Person** contacts)
{
	struct Person* temp;

	while (*contacts != NULL)
	{
		temp = *contacts;
		*contacts = (*contacts)-&gt;next;
		free(temp);
	}
}

void releasePool(void)
{
	struct Person* temp;
	while (pool != NULL)
	{
		temp = pool;
		pool = pool-&gt;next;
		free(temp);
	}
}

int main(void)
{
	int code;
	struct Person* contacts = NULL;
	struct Person* person;

	printf(&quot;| æ¬¢è¿ä½¿ç”¨é€šè®¯å½•ç®¡ç†ç¨‹åº |\n&quot;);
	printf(&quot;|--- 1:æ’å…¥æ–°çš„è”ç³»äºº ---|\n&quot;);
	printf(&quot;|--- 2:æŸ¥æ‰¾ç°æœ‰è”ç³»äºº ---|\n&quot;);
	printf(&quot;|--- 3:æ›´æ”¹ç°æœ‰è”ç³»äºº ---|\n&quot;);
	printf(&quot;|--- 4:åˆ é™¤ç°æœ‰è”ç³»äºº ---|\n&quot;);
	printf(&quot;|--- 5:æ˜¾ç¤ºå½“å‰é€šè®¯å½• ---|\n&quot;);
	printf(&quot;|--- 6:é€€å‡ºé€šè®¯å½•ç¨‹åº ---|\n&quot;);

	while (1)
	{
		printf(&quot;\nè¯·è¾“å…¥æŒ‡ä»¤ä»£ç ï¼š&quot;);
		scanf(&quot;%d&quot;, &amp;code);
		switch (code)
		{
		case 1:addPerson(&amp;contacts); break;
		case 2:person = findPerson(contacts);
			if (person == NULL)
			{
				printf(&quot;æ‰¾ä¸åˆ°è¯¥è”ç³»äººï¼\n&quot;);
			}
			else
			{
				printPerson(person);
			}
			break;
		case 3:changePerson(contacts); break;
		case 4:delPerson(&amp;contacts); break;
		case 5:displayContacts(contacts); break;
		case 6:goto END;
		}
	}

END://æ­¤å¤„ç›´æ¥è·³å‡ºæ’å¾ªç¯
	releaseContacts(&amp;contacts);
	releasePool();

	return 0;

}
</code></pre>
<h1 id="typedef">typedef</h1>
<h2 id="ç»™æ•°æ®ç±»å‹èµ·åˆ«å">ç»™æ•°æ®ç±»å‹èµ·åˆ«å</h2>
<p>Cè¯­è¨€æ˜¯ä¸€é—¨å¤è€çš„è¯­è¨€ï¼Œå®ƒæ˜¯åœ¨1969è‡³1973å¹´é—´ï¼Œç”±ä¸¤ä½å¤©æ‰ä¸¹å°¼æ–¯Â·é‡Œå¥‡å’Œè‚¯Â·æ±¤æ™®é€Šåœ¨è´å°”å®éªŒå®¤ä»¥Bè¯­è¨€ä¸ºåŸºç¡€å¼€å‘å‡ºæ¥çš„ï¼Œç”¨äºä»–ä»¬çš„é‡å†™UNIXè®¡åˆ’ï¼ˆè¿™ä¹Ÿä¸ºåæ¥UNIXç³»ç»Ÿçš„å¯ç§»æ¤æ€§æ‰“ä¸‹äº†åŸºç¡€ï¼Œä¹‹å‰çš„UNIXæ˜¯ä½¿ç”¨æ±‡ç¼–è¯­è¨€ç¼–å†™çš„ï¼Œå½“ç„¶ä¹Ÿæ˜¯è¿™ä¸¤ä½ä¸ºäº†ç©ä¸€ä¸ªè‡ªå·±è®¾è®¡çš„æ¸¸æˆè€Œç¼–å†™çš„ï¼‰ã€‚å¤©æ‰å°±æ˜¯å’Œå’±å¸¸äººä¸ä¸€æ ·ï¼Œä¸è¿‡ä»–ä¿©çš„æ•…äº‹ï¼Œåœ¨è¿™ç¯‡é‡Œé¢ä¸å¤šå•°å—¦ï¼Œæˆ‘ä»¬å›åˆ°è¯é¢˜ã€‚</p>
<p>è™½ç„¶Cè¯­è¨€è¯ç”Ÿçš„å¾ˆæ—©ï¼Œä½†æ˜¯å´ä¾æ—§ä¸æ˜¯æœ€æ—©çš„é«˜çº§ç¼–ç¨‹è¯­è¨€ã€‚ç›®å‰å…¬è®¤çš„æœ€æ—©çš„é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯IBMå…¬å¸äº1957å¹´å¼€å‘çš„FORTRANè¯­è¨€ã€‚Cè¯­è¨€è¯ç”Ÿä¹‹æ—¶ï¼ŒFORTRANå·²ç»ç»Ÿé¢†è¡Œä¸šæ•°åå¹´ä¹‹ä¹…ã€‚å› æ­¤ï¼ŒCè¯­è¨€è¦æƒ³å¿«é€Ÿå¸çº³FORTRANä¸­çš„æ½œåœ¨ç”¨æˆ·ï¼Œå°±å¿…é¡»åšå‡ºä¸€äº›å¦¥åã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œä¸åŒçš„è¯­è¨€çš„è¯­æ³•ï¼Œä¸€èˆ¬æ¥è¯´æ˜¯ä¸åŒçš„ï¼Œç”šè‡³è¿˜æœ‰è¾ƒå¤§çš„å·®è·ã€‚æ¯”å¦‚ï¼š</p>
<p>C:</p>
<pre><code class="language-c">int a, b, c;
float i, j, k;
</code></pre>
<p>è€ŒFORTRANè¯­è¨€æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="language-fortran">integer :: a, b, c;
real :: i, j, k;
</code></pre>
<p>å¦‚æœè®©FORTRANç”¨æˆ·ä½¿ç”¨åŸæ¥çš„å˜é‡åç§°è¿›è¡Œä½¿ç”¨ï¼Œé‚£ä¹ˆå°±èƒ½å¤Ÿå¿«é€Ÿè¿ç§»åˆ°Cè¯­è¨€ä¸Šé¢æ¥ï¼Œè¿™å°±æ˜¯<code>typedef</code>çš„ç”¨å¤„ä¹‹ä¸€ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨FORTRANè¯­è¨€çš„ç±»å‹åï¼Œé‚£å°±è¿™ä¹ˆåŠï¼š</p>
<pre><code class="language-c">typedef int integer;
typedef float real;

integer a, b, c;
real i, j, k;
</code></pre>
<h2 id="ç»“æ„ä½“çš„æ­æ¡£">ç»“æ„ä½“çš„æ­æ¡£</h2>
<p>è™½ç„¶ç»“æ„ä½“çš„å‡ºç°èƒ½å¤Ÿè®©æˆ‘ä»¬æœ‰ä¸€ä¸ªæ›´ç§‘å­¦çš„æ•°æ®ç»“æ„æ¥ç®¡ç†æ•°æ®ï¼Œä½†æ˜¯æ¯æ¬¡ä½¿ç”¨ç»“æ„ä½“éƒ½éœ€è¦<code>struct...</code>ï¼Œæœªå…æ˜¾å¾—æœ‰äº›å†—é•¿å’Œéº»çƒ¦ã€‚æœ‰äº†<code>typedef</code>çš„åŠ©æ”»ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾ˆè½»æ¾åœ°ç»™ç»“æ„ä½“ç±»å‹èµ·ä¸€ä¸ªå®¹æ˜“ç†è§£çš„åå­—ï¼š</p>
<pre><code class="language-c">typedef struct date
{
    int year;
    int month;
    int day;
} DATE;//ä¸ºäº†åŒºåˆ†ï¼Œä¸€èˆ¬ç”¨å…¨å¤§å†™

int main(void)
{
    DATE* date;
    ...
}
</code></pre>
<p>ç”šè‡³è¿˜å¯ä»¥é¡ºä¾¿ç»™å®ƒçš„æŒ‡é’ˆä¹Ÿå®šä¹‰ä¸€ä¸ªåˆ«åï¼š</p>
<pre><code class="language-c">typedef struct date
{
    int year;
    int month;
    int day;
} DATE, *PDATE;
</code></pre>
<h2 id="è¿›é˜¶">è¿›é˜¶</h2>
<p>æˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨<code>typedef</code>æ¥ç®€åŒ–ä¸€äº›æ¯”è¾ƒå¤æ‚çš„å‘½ä»¤ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<pre><code class="language-c">int (*ptr) [5];
</code></pre>
<p>æˆ‘ä»¬çŸ¥é“è¿™æ˜¯ä¸€ä¸ªæ•°ç»„æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ª5å…ƒç´ çš„æ•°ç»„ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ”¹å†™æˆè¿™æ ·ï¼š</p>
<pre><code class="language-c">typedef int(*PTR_TO_ARRAY)[3];
</code></pre>
<p>è¿™æ ·å°±å¯ä»¥æŠŠå¾ˆå¤æ‚çš„å£°æ˜å˜å¾—å¾ˆç®€å•ï¼š</p>
<pre><code class="language-c">PTR_TO_ARRAY a = &amp;array;
</code></pre>
<p>å–åçš„æ—¶å€™è¦å°½é‡ä½¿ç”¨å®¹æ˜“ç†è§£çš„åå­—ï¼Œè¿™æ ·æ‰èƒ½è¾¾åˆ°ä½¿ç”¨<code>typedef</code>çš„æœ€ç»ˆç›®çš„ã€‚</p>
<h1 id="å…±ç”¨ä½“">å…±ç”¨ä½“</h1>
<p>å…±ç”¨ä½“ä¹Ÿç§°è”åˆä½“ã€‚</p>
<h2 id="å£°æ˜">å£°æ˜</h2>
<p>å’Œç»“æ„ä½“è¿˜æ˜¯æœ‰ç‚¹åƒï¼š</p>
<pre><code class="language-c">union å…±ç”¨ä½“åç§°
{
    æˆå‘˜1;
    æˆå‘˜2;
    æˆå‘˜3;
};
</code></pre>
<p>ä½†æ˜¯ä¸¤è€…æœ‰æœ¬è´¨çš„ä¸åŒã€‚å…±ç”¨ä½“çš„æ¯ä¸€ä¸ªæˆå‘˜å…±ç”¨ä¸€æ®µå†…å­˜ï¼Œé‚£ä¹ˆè¿™ä¹Ÿå°±æ„å‘³ç€å®ƒä»¬ä¸å¯èƒ½åŒæ—¶è¢«æ­£ç¡®åœ°è®¿é—®ã€‚å¦‚ï¼š</p>
<pre><code class="language-c">//Example 05
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

union Test
{
	int i;
	double pi;
	char str[9];
};

int main(void)
{
	union Test test;

	test.i = 10;
	test.pi = 3.14;
	strcpy(test.str, &quot;TechZone&quot;);

	printf(&quot;test.i: %d\n&quot;, test.i);
	printf(&quot;test.pi: %.2f\n&quot;, test.pi);
	printf(&quot;test.str: %s\n&quot;, test.str);

	return 0;
}
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>//Consequence 05
test.i: 1751344468
test.pi: 3946574856045802736197446431383475413237648487838717723111623714247921409395495328582015991082102150186282825269379326297769425957893182570875995348588904500564659454087397032067072.00
test.str: TechZone
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå…±ç”¨ä½“åªèƒ½æ­£ç¡®åœ°å±•ç¤ºå‡ºæœ€åä¸€æ¬¡è¢«èµ‹å€¼çš„æˆå‘˜ã€‚å…±ç”¨ä½“çš„å†…å­˜åº”è¯¥è¦èƒ½å¤Ÿæ»¡è¶³æœ€å¤§çš„æˆå‘˜èƒ½å¤Ÿæ­£å¸¸å­˜å‚¨ã€‚ä½†æ˜¯å¹¶ä¸ä¸€å®šç­‰äºæœ€å¤§çš„æˆå‘˜çš„å°ºå¯¸ï¼Œå› ä¸ºè¿˜è¦è€ƒè™‘å†…å­˜å¯¹é½çš„é—®é¢˜ã€‚</p>
<p>å…±ç”¨ä½“å¯ä»¥ç±»ä¼¼ç»“æ„ä½“ä¸€æ ·æ¥å®šä¹‰å’Œå£°æ˜ï¼Œä½†æ˜¯å…±ç”¨ä½“è¿˜å¯ä»¥å…è®¸ä¸å¸¦åå­—ï¼š</p>
<pre><code class="language-c">union
{
	int i;
	char ch;
	float f;
} a, b;
</code></pre>
<h2 id="åˆå§‹åŒ–">åˆå§‹åŒ–</h2>
<p>å…±ç”¨ä½“ä¸èƒ½åœ¨åŒä¸€æ—¶é—´å­˜æ”¾å¤šä¸ªæˆå‘˜ï¼Œæ‰€ä»¥ä¸èƒ½æ‰¹é‡åˆå§‹åŒ–</p>
<pre><code class="language-c">union data
{
    int i;
    char ch;
    float f;
};

union data a = {520};        //åˆå§‹åŒ–ç¬¬ä¸€ä¸ªæˆå‘˜
union data b = a;            //ç›´æ¥ä½¿ç”¨ä¸€ä¸ªå…±ç”¨ä½“åˆå§‹åŒ–å¦ä¸€ä¸ªå…±ç”¨ä½“
union data c = {.ch = 'C'};  //C99çš„ç‰¹æ€§ï¼ŒæŒ‡å®šåˆå§‹åŒ–æˆå‘˜
</code></pre>
<h1 id="æšä¸¾">æšä¸¾</h1>
<p>æšä¸¾æ˜¯ä¸€ä¸ªåŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œå®ƒå¯ä»¥è®©æ•°æ®æ›´ç®€æ´ã€‚</p>
<p>å¦‚æœå†™ä¸€ä¸ªåˆ¤æ–­æ˜ŸæœŸçš„æ–‡ç« ï¼Œæˆ‘ä»¬å½“ç„¶å¯ä»¥ä½¿ç”¨å®å®šä¹‰æ¥ä½¿ä»£ç æ›´åŠ æ˜“æ‡‚ï¼Œä¸è¿‡ï¼š</p>
<pre><code class="language-c">#define MON 1
#define TUE 2
#define WED 3
#define THU 4
#define FRI 5
#define SAT 6
#define SUN 7
</code></pre>
<p>è¿™æ ·çš„å†™æ³•æœ‰ç‚¹è´¹é”®ç›˜ã€‚é‚£ä¹ˆæšä¸¾å°±ç®€å•å¤šäº†ï¼š</p>
<pre><code class="language-c">enum DAY
{
      MON=1, TUE, WED, THU, FRI, SAT, SUN
};
</code></pre>
<blockquote>
<p>**æ³¨æ„ï¼š**ç¬¬ä¸€ä¸ªæšä¸¾æˆå‘˜çš„é»˜è®¤å€¼ä¸ºæ•´å‹çš„ 0ï¼Œåç»­æšä¸¾æˆå‘˜çš„å€¼åœ¨å‰ä¸€ä¸ªæˆå‘˜ä¸ŠåŠ  1ã€‚æˆ‘ä»¬åœ¨è¿™ä¸ªå®ä¾‹ä¸­æŠŠç¬¬ä¸€ä¸ªæšä¸¾æˆå‘˜çš„å€¼å®šä¹‰ä¸º 1ï¼Œç¬¬äºŒä¸ªå°±ä¸º 2ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
</blockquote>
<p>æšä¸¾å˜é‡çš„å®šä¹‰å’Œå£°æ˜æ–¹æ³•å’Œå…±ç”¨ä½“ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥çœç•¥æšä¸¾åï¼Œç›´æ¥å£°æ˜å˜é‡åã€‚</p>
<pre><code class="language-c">//Example 06
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main()
{

    enum color { red = 1, green, blue };

    enum  color favorite_color;

    printf(&quot;è¯·è¾“å…¥ä½ å–œæ¬¢çš„é¢œè‰²: (1. red, 2. green, 3. blue): &quot;);
    scanf(&quot;%d&quot;, &amp;favorite_color);

    //è¾“å‡ºç»“æœ
    switch (favorite_color)
    {
    case red:
        printf(&quot;ä½ å–œæ¬¢çš„é¢œè‰²æ˜¯çº¢è‰²&quot;);
        break;
    case green:
        printf(&quot;ä½ å–œæ¬¢çš„é¢œè‰²æ˜¯ç»¿è‰²&quot;);
        break;
    case blue:
        printf(&quot;ä½ å–œæ¬¢çš„é¢œè‰²æ˜¯è“è‰²&quot;);
        break;
    default:
        printf(&quot;ä½ æ²¡æœ‰é€‰æ‹©ä½ å–œæ¬¢çš„é¢œè‰²&quot;);
    }

    return 0;
}
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>//Consequence 06
è¯·è¾“å…¥ä½ å–œæ¬¢çš„é¢œè‰²: (1. red, 2. green, 3. blue): 3
ä½ å–œæ¬¢çš„é¢œè‰²æ˜¯è“è‰²
</code></pre>
<p>ä¹Ÿå¯ä»¥æŠŠæ•´æ•°è½¬æ¢ä¸ºæšä¸¾ç±»å‹ï¼š</p>
<pre><code class="language-c">//Example 07

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main()
{
    enum day
    {
        saturday,
        sunday,
        monday,
        tuesday,
        wednesday,
        thursday,
        friday
    } workday;

    int a = 1;
    enum day weekend;
    weekend = (enum day) a;  //ä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢
    //weekend = a; //é”™è¯¯
    printf(&quot;weekend:%d&quot;, weekend);
    return 0;
}
</code></pre>
<p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>//Consequence 07
weekend:1
</code></pre>
<h1 id="ä½åŸŸ">ä½åŸŸ</h1>
<p>Cè¯­è¨€é™¤äº†å¼€å‘æ¡Œé¢åº”ç”¨ç­‰ï¼Œè¿˜æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„é¢†åŸŸï¼Œé‚£å°±æ˜¯<strong>å•ç‰‡æœº</strong>å¼€å‘ã€‚å•ç‰‡æœºä¸Šçš„ç¡¬ä»¶èµ„æºååˆ†æœ‰é™ï¼Œå®¹ä¸å¾—æˆ‘ä»¬å»è‚†æ„æŒ¥æ´’ã€‚å•ç‰‡æœºä½¿ä¸€ç§é›†æˆç”µè·¯èŠ¯ç‰‡ï¼Œä½¿é‡‡ç”¨è¶…å¤§è§„æ¨¡é›†æˆç”µè·¯æŠ€æœ¯æŠŠå…·æœ‰æ•°æ®å¤„ç†èƒ½åŠ›çš„CPUã€RAMã€ROMã€I/Oã€ä¸­æ–­ç³»ç»Ÿã€å®šæ—¶å™¨/è®¡æ•°å™¨ç­‰åŠŸèƒ½ï¼ˆæœ‰çš„è¿˜åŒ…æ‹¬æ˜¾ç¤ºé©±åŠ¨ç”µè·¯ã€è„‰å®½è°ƒåˆ¶ç”µè·¯ã€æ¨¡æ‹Ÿå¤šè·¯è½¬æ¢å™¨ã€A/Dè½¬æ¢å™¨ç­‰ç”µè·¯ï¼‰é›†æˆåˆ°ä¸€å—ç¡…ç‰‡ä¸Šæ„æˆçš„ä¸€ä¸ªå°è€Œå®Œå–„çš„å¾®å‹è®¡ç®—æœºç³»ç»Ÿï¼Œåœ¨å·¥æ§é¢†åŸŸä½¿ç”¨å¹¿æ³›ã€‚</p>
<p>å¯¹äºè¿™æ ·çš„è®¾å¤‡ï¼Œé€šå¸¸å†…å­˜åªæœ‰256Bï¼Œé‚£ä¹ˆèƒ½å¤Ÿç»™æˆ‘ä»¬åˆ©ç”¨çš„èµ„æºå°±ååˆ†çè´µäº†ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬åªéœ€è¦å®šä¹‰ä¸€ä¸ªå˜é‡æ¥å­˜æ”¾å¸ƒå°”å€¼ï¼Œä¸€èˆ¬å°±ç”³è¯·ä¸€ä¸ªæ•´å‹å˜é‡ï¼Œé€šè¿‡1å’Œ0æ¥é—´æ¥å­˜å‚¨ã€‚ä½†æ˜¯ï¼Œæ˜¾ç„¶1å’Œ0åªç”¨1ä¸ªbitå°±èƒ½å¤Ÿæ”¾å®Œï¼Œè€Œä¸€ä¸ªæ•´å‹å´æ˜¯4ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯32bitã€‚è¿™å°±é€ æˆäº†å†…å­˜çš„æµªè´¹ã€‚</p>
<p>å¥½åœ¨ï¼ŒCè¯­è¨€ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§æ•°æ®ç»“æ„ï¼Œç§°ä¸º<strong>ä½åŸŸ</strong>ï¼ˆä¹Ÿå«ä½ç«¯ã€ä½å­—æ®µï¼‰ã€‚ä¹Ÿå°±æ˜¯æŠŠä¸€ä¸ªå­—èŠ‚ä¸­çš„äºŒè¿›åˆ¶ä½åˆ’åˆ†ï¼Œå¹¶ä¸”ä½ èƒ½å¤ŸæŒ‡å®šæ¯ä¸ªåŒºåŸŸçš„ä½æ•°ã€‚æ¯ä¸ªåŸŸæœ‰ä¸€ä¸ªåŸŸåï¼Œå¹¶å…è®¸ç¨‹åºä¸­æŒ‰åŸŸåè¿›è¡Œå•ç‹¬æ“ä½œã€‚</p>
<p>ä½¿ç”¨ä½åŸŸçš„åšæ³•æ˜¯åœ¨ç»“æ„ä½“å®šä¹‰çš„æ—¶å€™ï¼Œåœ¨ç»“æ„ä½“æˆå‘˜åé¢ä½¿ç”¨å†’å·ï¼ˆ:ï¼‰å’Œæ•°å­—æ¥è¡¨ç¤ºè¯¥æˆå‘˜æ‰€å çš„ä½æ•°ã€‚</p>
<pre><code class="language-c">//Example 08
#include &lt;stdio.h&gt;

int main(void)
{
	struct Test
	{
		unsigned int a : 1;
		unsigned int b : 1;
		unsigned int c : 2;
	} test;
	
	test.a = 0;
	test.b = 1;
	test.c = 2;

	printf(&quot;a = %d, b = %d, c = %d\n&quot;, test.a, test.b, test.c);
	printf(&quot;size of test = %d\n&quot;, sizeof(test));

	return 0;
}
</code></pre>
<p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>//Consequence 08
a = 0, b = 1, c = 2
size of test = 4
</code></pre>
<p>å¦‚æ­¤ä¸€æ¥ï¼Œç»“æ„ä½“<code>test</code>åªç”¨äº†4bitï¼Œå´å­˜æ”¾ä¸‹äº†0ã€1ã€2ä¸‰ä¸ªæ•´æ•°ã€‚ä½†æ˜¯ç”±äº2åœ¨äºŒè¿›åˆ¶ä¸­æ˜¯10ï¼Œå› æ­¤å äº†2ä¸ªbitã€‚å¦‚æœæŠŠ<code>test.b</code>èµ‹å€¼ä¸º2ï¼Œé‚£ä¹ˆï¼š</p>
<pre><code>//Consequence 08 V2
a = 0, b = 0, c = 2
size of test = 4
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œbä¸­çš„10æº¢å‡ºäº†ï¼Œåªå‰©ä¸‹0ã€‚</p>
<p>å½“ç„¶ï¼Œä½åŸŸçš„å®½åº¦ä¸èƒ½å¤Ÿè¶…è¿‡æœ¬èº«ç±»å‹çš„é•¿åº¦ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="language-c">unsigned int a : 100;
</code></pre>
<p>é‚£ä¹ˆå°±ä¼šæŠ¥é”™ï¼š</p>
<pre><code>é”™è¯¯	C2034	â€œmain::test::aâ€: ä½åŸŸç±»å‹å¯¹ä½æ•°å¤ªå°
</code></pre>
<p>ä½åŸŸæˆå‘˜ä¹Ÿå¯ä»¥æ²¡æœ‰åç§°ï¼Œåªè¦ç»™å‡ºç±»å‹å’Œå®½åº¦å³å¯ï¼š</p>
<pre><code class="language-c">struct Test
{
    unsigned int x : 1;
    unsigned int y : 2;
    unsigned int z : 3;
    unsigned int : 26;
};
</code></pre>
<p>æ— åä½åŸŸä¸€èˆ¬ç”¨æ¥ä½œä¸ºå¡«å……æˆ–è€…è°ƒæ•´æˆå‘˜çš„ä½ç½®ï¼Œå› ä¸ºæ²¡æœ‰åç§°ï¼Œæ‰€ä»¥æ— åä½åŸŸå¹¶ä¸èƒ½å¤Ÿæ‹¿æ¥ä½¿ç”¨ã€‚</p>
<blockquote>
<p>Cè¯­è¨€çš„æ ‡å‡†åªè¯´æ˜unsigned intå’Œsigned intæ”¯æŒä½åŸŸï¼Œç„¶åC99å¢åŠ äº†_Boolç±»å‹ä¹Ÿæ”¯æŒä½åŸŸï¼Œå…¶ä»–æ•°æ®ç±»å‹ç†è®ºä¸Šæ˜¯ä¸æ”¯æŒçš„ã€‚ä¸è¿‡å¤§å¤šæ•°ç¼–è¯‘å™¨åœ¨å…·ä½“å®ç°æ—¶éƒ½è¿›è¡Œäº†æ‰©å±•ï¼Œé¢å¤–æ”¯æŒäº†signed charã€unsigned charä»¥åŠæšä¸¾ç±»å‹ï¼Œæ‰€ä»¥å¦‚æœå¯¹charç±»å‹çš„ç»“æ„ä½“æˆå‘˜ä½¿ç”¨ä½åŸŸï¼ŒåŸºæœ¬ä¸Šä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ã€‚ä½†å¦‚æœè€ƒè™‘åˆ°ç¨‹åºçš„å¯ç§»æ¤æ€§ï¼Œå°±éœ€è¦è°¨æ…å¯¹å¾…äº†ã€‚å¦å¤–ï¼Œç”±äºå†…å­˜çš„åŸºæœ¬å•ä½æ˜¯å­—èŠ‚ï¼Œè€Œä½åŸŸåªæ˜¯å­—èŠ‚çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥å¹¶ä¸èƒ½å¯¹ä½åŸŸè¿›è¡Œå–åœ°å€è¿ç®—ã€‚</p>
</blockquote>
<p>è™½ç„¶ç§‘æŠ€å‘å±•æ—¥æ–°æœˆå¼‚ï¼Œä½†æ˜¯ç§‰æ‰¿ç€èŠ‚çº¦æˆæœ¬è¿™ä¸ªæ”¾ä¹‹å››æµ·è€Œçš†å‡†çš„åŸåˆ™ï¼Œè¿˜æ˜¯è¦æ³¨æ„ä½¿ç”¨ï¼æ¯•ç«Ÿ5æ¯›é’±å¯èƒ½æ˜¯å°é’±ï¼Œä½†æ˜¯ä¹˜ä»¥5000ä¸‡å‘¢ï¼Ÿ</p>

              </div>
              <div class="post-footer">
  <ul class="post-copyright">
    <li class="post-copyright-author">
      <strong>æœ¬æ–‡ä½œè€…ï¼š</strong>
      TechZone
    </li>
    <li class="post-copyright-link">
      <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
      <a href="https://harriswilde.github.io/post/7BMq0j8UT/" title="Cè¯­è¨€ä¹‹ç»“æ„ä½“ï¼ˆä¸‹ï¼‰">Cè¯­è¨€ä¹‹ç»“æ„ä½“ï¼ˆä¸‹ï¼‰</a>
    </li>
    <li class="post-copyright-license">
      <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>
      æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
    </li>
  </ul>
  <div class="tags">
    
      <a href="https://harriswilde.github.io/tag/VC6KZQgdc/"># C</a>
    
      <a href="https://harriswilde.github.io/tag/DFrZZfISm/"># æ•°æ®ç»“æ„</a>
    
  </div>
  <div class="nav">
    <div class="nav-prev">
      
        <i class="fa fa-chevron-left"></i>
        <a class="nav-pc-next" title="çº¿æ€§ä»£æ•°ï¼šè¡Œåˆ—å¼è®¡ç®—" href="https://harriswilde.github.io/post/zKsgFlYdr/">çº¿æ€§ä»£æ•°ï¼šè¡Œåˆ—å¼è®¡ç®—</a class="nav-pc-next">
        <a class="nav-mobile-prev" title="çº¿æ€§ä»£æ•°ï¼šè¡Œåˆ—å¼è®¡ç®—" href="https://harriswilde.github.io/post/zKsgFlYdr/">ä¸Šä¸€ç¯‡</a>
      
    </div>
    <div class="nav-next">
      
        <a class="nav-pc-next" title="Cè¯­è¨€ä¹‹ç»“æ„ä½“ï¼ˆä¸Šï¼‰" href="https://harriswilde.github.io/post/M4QwK7i-6/">Cè¯­è¨€ä¹‹ç»“æ„ä½“ï¼ˆä¸Šï¼‰</a>
        <a class="nav-mobile-next" title="Cè¯­è¨€ä¹‹ç»“æ„ä½“ï¼ˆä¸Šï¼‰" href="https://harriswilde.github.io/post/M4QwK7i-6/">ä¸‹ä¸€ç¯‡</a>
        <i class="fa fa-chevron-right"></i>
      
    </div>
  </div>
</div>
              
                
<script src="https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js"></script>
<div id="vcomments" style="padding: 10px 0px 0px 0px"></div>
<script>
new Valine({
    el: '#vcomments' ,
    appId: 'aSVp0OY6zw3Kbg9XOVQduoms-9Nh9j0Va',
    appKey: 'gtOCC5WcbcusTKnIBuqh6zaa',
    notify: 'true' === 'true', 
    avatar:'', 
    placeholder: 'æœ‰é”™è¯¯æˆ–æ›´å¥½çš„å»ºè®®ï¼Ÿå‘Šè¯‰æˆ‘ä¸€èµ·å­¦ä¹ å§ï¼',
    pageSize: '',
    lang: 'zh-cn',
    visitor: 'true' === 'true',
    highlight: 'true' === 'true',
    avatarForce: 'true' === 'false',
});
</script>
              
            </div>
          </div>
        </div>
      </div>
      <div class="footer-box">
  <footer class="footer">
    <div class="copyright">
      Â© 2019-2020 TechZone
    </div>
    <div class="poweredby">
      Powered by HarrisWilde
    </div>
  </footer>
  
  
  <div class="pisces back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
    <span class="scrollpercent">
      <span id="back_to_top_text">0</span>%
    </span>
    
  </div>
  
  
  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
  back2TopText = document.querySelector('#back_to_top_text'),
  drawerBox = document.querySelector('#drawer_box'),
  rightSideBar = document.querySelector('.sidebar'),
  viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {
   
    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function(e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });
  
  window.addEventListener('scroll', function(e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });

  
  let hasCacu = false;
  window.onresize = function() {
    if (window.width > 991) {
      calcuHeight();
    } else {
      hasCacu = false;
    }
  }

  function calcuHeight() {
    // åŠ¨æ€è°ƒæ•´ç«™ç‚¹æ¦‚è§ˆé«˜åº¦
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();
  
  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function() {
      open = !open;
      window.Velocity(rightSideBar, 'stop');
      window.Velocity(viewport, 'stop');
      window.Velocity(rightMotions, 'stop');
      if (open) {
        window.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, transitionDir,{ });
          }
        })
        window.Velocity(viewport, openProp,{
          duration: MOTION_TIME
        });
      } else {
        window.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        window.Velocity(viewport, closeProp ,{
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // ä»£ç é«˜äº®
  hljs.initHighlightingOnLoad();

</script>
    </div>
  </body>
  <script src="/media/js/motion.js"></script>
</html>
